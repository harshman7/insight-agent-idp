{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/harshmanpreetsingh/Desktop/insight-agent-idp-local/web/components/Layout.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport Link from 'next/link';\nimport { usePathname } from 'next/navigation';\nimport {\n  ChartBarIcon,\n  ChatBubbleLeftRightIcon,\n  DocumentTextIcon,\n  ExclamationTriangleIcon,\n  ArrowsRightLeftIcon,\n  LightBulbIcon,\n  ReceiptRefundIcon,\n  ArrowDownTrayIcon,\n  HomeIcon,\n  QuestionMarkCircleIcon,\n  Bars3Icon,\n  XMarkIcon,\n} from '@heroicons/react/24/outline';\nimport { startWalkthrough } from './Walkthrough';\nimport toast from 'react-hot-toast';\n\nconst navigation = [\n  { name: 'Dashboard', href: '/', icon: HomeIcon },\n  { name: 'Analytics', href: '/analytics', icon: ChartBarIcon },\n  { name: 'Chat', href: '/chat', icon: ChatBubbleLeftRightIcon },\n  { name: 'Documents', href: '/documents', icon: DocumentTextIcon },\n  { name: 'Anomalies', href: '/anomalies', icon: ExclamationTriangleIcon },\n  { name: 'Compare', href: '/compare', icon: ArrowsRightLeftIcon },\n  { name: 'Insights', href: '/insights', icon: LightBulbIcon },\n  { name: 'Receipts', href: '/receipts', icon: ReceiptRefundIcon },\n  { name: 'Export', href: '/export', icon: ArrowDownTrayIcon },\n];\n\nexport default function Layout({ children }: { children: React.ReactNode }) {\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n  const pathname = usePathname();\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Sidebar */}\n      <div className=\"hidden md:fixed md:inset-y-0 md:flex md:w-64 md:flex-col md:z-30\">\n        <div className=\"flex flex-col flex-grow bg-white border-r border-gray-200 shadow-sm\">\n          <div className=\"flex items-center flex-shrink-0 px-6 py-5 border-b border-gray-200\">\n            <div className=\"flex items-center space-x-2\">\n              <div className=\"w-8 h-8 bg-gradient-to-br from-blue-600 to-blue-800 rounded-lg flex items-center justify-center\">\n                <span className=\"text-white text-lg font-bold\">IA</span>\n              </div>\n              <h1 className=\"text-xl font-bold text-gray-900\">Insight Agent</h1>\n            </div>\n          </div>\n          <div className=\"flex-1 overflow-y-auto py-4\">\n            <nav className=\"px-3 space-y-1\">\n              {navigation.map((item) => {\n                const isActive = pathname === item.href;\n                return (\n                  <Link\n                    key={item.name}\n                    href={item.href}\n                    className={`${\n                      isActive\n                        ? 'bg-blue-50 text-blue-700 border-l-4 border-blue-600'\n                        : 'text-gray-700 hover:bg-gray-50 hover:text-gray-900'\n                    } group flex items-center px-4 py-3 text-sm font-medium rounded-r-md transition-all duration-150`}\n                  >\n                    <item.icon\n                      className={`${\n                        isActive ? 'text-blue-600' : 'text-gray-400 group-hover:text-gray-600'\n                      } mr-3 flex-shrink-0 h-5 w-5`}\n                    />\n                    {item.name}\n                  </Link>\n                );\n              })}\n            </nav>\n          </div>\n        </div>\n      </div>\n\n      {/* Mobile sidebar */}\n      {sidebarOpen && (\n        <div className=\"fixed inset-0 z-50 md:hidden\">\n          <div \n            className=\"fixed inset-0 bg-gray-900 bg-opacity-50 transition-opacity\" \n            onClick={() => setSidebarOpen(false)}\n            aria-hidden=\"true\"\n          />\n          <div className=\"fixed inset-y-0 left-0 flex flex-col w-64 bg-white shadow-xl\">\n            <div className=\"flex items-center justify-between px-6 py-5 border-b border-gray-200\">\n              <div className=\"flex items-center space-x-2\">\n                <div className=\"w-8 h-8 bg-gradient-to-br from-blue-600 to-blue-800 rounded-lg flex items-center justify-center\">\n                  <span className=\"text-white text-lg font-bold\">IA</span>\n                </div>\n                <h1 className=\"text-xl font-bold text-gray-900\">Insight Agent</h1>\n              </div>\n              <button\n                onClick={() => setSidebarOpen(false)}\n                className=\"text-gray-400 hover:text-gray-600 p-2\"\n                aria-label=\"Close sidebar\"\n              >\n                <XMarkIcon className=\"h-6 w-6\" />\n              </button>\n            </div>\n            <nav className=\"flex-1 px-3 py-4 space-y-1 overflow-y-auto\">\n              {navigation.map((item) => {\n                const isActive = pathname === item.href;\n                return (\n                  <Link\n                    key={item.name}\n                    href={item.href}\n                    onClick={() => setSidebarOpen(false)}\n                    className={`${\n                      isActive\n                        ? 'bg-blue-50 text-blue-700 border-l-4 border-blue-600'\n                        : 'text-gray-700 hover:bg-gray-50'\n                    } group flex items-center px-4 py-3 text-sm font-medium rounded-r-md transition-all`}\n                  >\n                    <item.icon className=\"mr-3 h-5 w-5\" />\n                    {item.name}\n                  </Link>\n                );\n              })}\n            </nav>\n          </div>\n        </div>\n      )}\n\n      {/* Main content */}\n      <div className=\"md:pl-64 flex flex-col flex-1\">\n        {/* Top bar */}\n        <div className=\"sticky top-0 z-20 bg-white border-b border-gray-200 shadow-sm\">\n          <div className=\"flex h-16 items-center justify-between px-4 sm:px-6 lg:px-8\">\n            <div className=\"flex items-center space-x-4\">\n              <button\n                type=\"button\"\n                className=\"md:hidden text-gray-500 hover:text-gray-700 p-2\"\n                onClick={() => setSidebarOpen(true)}\n                aria-label=\"Open sidebar\"\n              >\n                <Bars3Icon className=\"h-6 w-6\" />\n              </button>\n              <h2 className=\"text-xl font-semibold text-gray-900\">\n                {navigation.find((n) => n.href === pathname)?.name || 'Dashboard'}\n              </h2>\n            </div>\n            <button\n              onClick={() => {\n                const steps = getStepsForPage(pathname);\n                if (steps.length > 0) {\n                  startWalkthrough(steps);\n                } else {\n                  toast.success('No walkthrough available for this page');\n                }\n              }}\n              className=\"text-gray-400 hover:text-blue-600 transition-colors p-2\"\n              title=\"Show walkthrough\"\n              aria-label=\"Show walkthrough\"\n            >\n              <QuestionMarkCircleIcon className=\"h-5 w-5\" />\n            </button>\n          </div>\n        </div>\n\n        {/* Page content */}\n        <main className=\"flex-1\">\n          <div className=\"py-6\">\n            <div className=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\n              {children}\n            </div>\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n}\n\nfunction getStepsForPage(pathname: string) {\n  const steps: any[] = [];\n  // Steps will be defined based on page - simplified version\n  return steps;\n}\n\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 495, "column": 0}, "map": {"version":3,"sources":["file:///Users/harshmanpreetsingh/Desktop/insight-agent-idp-local/web/lib/api.ts"],"sourcesContent":["/**\n * API client for FastAPI backend\n */\nimport axios from 'axios';\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000';\n\nconst api = axios.create({\n  baseURL: API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Analytics API\nexport const analyticsApi = {\n  getSummary: () => api.get('/api/analytics/summary').then(res => res.data),\n  getVendorStats: (limit = 10) => api.get(`/api/analytics/vendor-stats?limit=${limit}`).then(res => res.data),\n  getCategoryBreakdown: () => api.get('/api/analytics/category-breakdown').then(res => res.data),\n  getTimeSeries: () => api.get('/api/analytics/time-series').then(res => res.data),\n  getForecast: (months = 3) => api.get(`/api/analytics/forecast?months=${months}`).then(res => res.data),\n};\n\n// Documents API\nexport const documentsApi = {\n  getAll: (skip = 0, limit = 100, docType?: string) => {\n    const params = new URLSearchParams({ skip: skip.toString(), limit: limit.toString() });\n    if (docType) params.append('doc_type', docType);\n    return api.get(`/api/documents?${params}`).then(res => res.data);\n  },\n  getById: (id: number) => api.get(`/api/documents/${id}`).then(res => res.data),\n  upload: async (file: File) => {\n    const formData = new FormData();\n    formData.append('file', file);\n    return api.post('/api/documents/upload', formData, {\n      headers: { 'Content-Type': 'multipart/form-data' },\n    }).then(res => res.data);\n  },\n  update: (id: number, updates: any) => api.put(`/api/documents/${id}`, updates).then(res => res.data),\n  getSimilar: (id: number, limit = 5) => api.get(`/api/documents/${id}/similar?limit=${limit}`).then(res => res.data),\n};\n\n// Chat API\nexport const chatApi = {\n  query: (query: string, useRag = true, useSql = true) =>\n    api.post('/chat/insights', { query, use_rag: useRag, use_sql: useSql }).then(res => res.data),\n};\n\n// Anomalies API\nexport const anomaliesApi = {\n  getAll: () => api.get('/api/anomalies').then(res => res.data),\n};\n\n// Document Comparison API\nexport const comparisonApi = {\n  compare: (doc1Id: number, doc2Id: number) =>\n    api.post('/api/documents/compare', { doc1_id: doc1Id, doc2_id: doc2Id }).then(res => res.data),\n  getPriceChanges: (vendor: string) => api.get(`/api/vendors/${encodeURIComponent(vendor)}/price-changes`).then(res => res.data),\n};\n\n// Insights API\nexport const insightsApi = {\n  getReport: () => api.get('/api/insights/report').then(res => res.data),\n};\n\n// Receipt Matching API\nexport const receiptApi = {\n  getUnmatched: () => api.get('/api/receipts/unmatched').then(res => res.data),\n  match: (receiptId: number) => api.post(`/api/receipts/${receiptId}/match`).then(res => res.data),\n};\n\n// Export API\nexport const exportApi = {\n  excel: () => api.get('/api/export/excel', { responseType: 'blob' }).then(res => {\n    const url = window.URL.createObjectURL(new Blob([res.data]));\n    const link = document.createElement('a');\n    link.href = url;\n    link.setAttribute('download', 'expense_report.xlsx');\n    document.body.appendChild(link);\n    link.click();\n    link.remove();\n  }),\n  summary: () => api.get('/api/export/summary').then(res => res.data),\n};\n\nexport default api;\n\n"],"names":[],"mappings":"AAAA;;CAEC;;;;;;;;;;;;;;;;;;;;AACD;;AAEA,MAAM,UAAU,6DAAmC;AAEnD,MAAM,MAAM,gJAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;QACP,gBAAgB;IAClB;AACF;AAGO,MAAM,eAAe;IAC1B,YAAY,IAAM,IAAI,GAAG,CAAC,0BAA0B,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI;IACxE,gBAAgB,CAAC,QAAQ,EAAE,GAAK,IAAI,GAAG,CAAC,CAAC,kCAAkC,EAAE,OAAO,EAAE,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI;IAC1G,sBAAsB,IAAM,IAAI,GAAG,CAAC,qCAAqC,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI;IAC7F,eAAe,IAAM,IAAI,GAAG,CAAC,8BAA8B,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI;IAC/E,aAAa,CAAC,SAAS,CAAC,GAAK,IAAI,GAAG,CAAC,CAAC,+BAA+B,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI;AACvG;AAGO,MAAM,eAAe;IAC1B,QAAQ,CAAC,OAAO,CAAC,EAAE,QAAQ,GAAG,EAAE;QAC9B,MAAM,SAAS,IAAI,gBAAgB;YAAE,MAAM,KAAK,QAAQ;YAAI,OAAO,MAAM,QAAQ;QAAG;QACpF,IAAI,SAAS,OAAO,MAAM,CAAC,YAAY;QACvC,OAAO,IAAI,GAAG,CAAC,CAAC,eAAe,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI;IACjE;IACA,SAAS,CAAC,KAAe,IAAI,GAAG,CAAC,CAAC,eAAe,EAAE,IAAI,EAAE,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI;IAC7E,QAAQ,OAAO;QACb,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,QAAQ;QACxB,OAAO,IAAI,IAAI,CAAC,yBAAyB,UAAU;YACjD,SAAS;gBAAE,gBAAgB;YAAsB;QACnD,GAAG,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI;IACzB;IACA,QAAQ,CAAC,IAAY,UAAiB,IAAI,GAAG,CAAC,CAAC,eAAe,EAAE,IAAI,EAAE,SAAS,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI;IACnG,YAAY,CAAC,IAAY,QAAQ,CAAC,GAAK,IAAI,GAAG,CAAC,CAAC,eAAe,EAAE,GAAG,eAAe,EAAE,OAAO,EAAE,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI;AACpH;AAGO,MAAM,UAAU;IACrB,OAAO,CAAC,OAAe,SAAS,IAAI,EAAE,SAAS,IAAI,GACjD,IAAI,IAAI,CAAC,kBAAkB;YAAE;YAAO,SAAS;YAAQ,SAAS;QAAO,GAAG,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI;AAChG;AAGO,MAAM,eAAe;IAC1B,QAAQ,IAAM,IAAI,GAAG,CAAC,kBAAkB,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI;AAC9D;AAGO,MAAM,gBAAgB;IAC3B,SAAS,CAAC,QAAgB,SACxB,IAAI,IAAI,CAAC,0BAA0B;YAAE,SAAS;YAAQ,SAAS;QAAO,GAAG,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI;IAC/F,iBAAiB,CAAC,SAAmB,IAAI,GAAG,CAAC,CAAC,aAAa,EAAE,mBAAmB,QAAQ,cAAc,CAAC,EAAE,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI;AAC/H;AAGO,MAAM,cAAc;IACzB,WAAW,IAAM,IAAI,GAAG,CAAC,wBAAwB,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI;AACvE;AAGO,MAAM,aAAa;IACxB,cAAc,IAAM,IAAI,GAAG,CAAC,2BAA2B,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI;IAC3E,OAAO,CAAC,YAAsB,IAAI,IAAI,CAAC,CAAC,cAAc,EAAE,UAAU,MAAM,CAAC,EAAE,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI;AACjG;AAGO,MAAM,YAAY;IACvB,OAAO,IAAM,IAAI,GAAG,CAAC,qBAAqB;YAAE,cAAc;QAAO,GAAG,IAAI,CAAC,CAAA;YACvE,MAAM,MAAM,OAAO,GAAG,CAAC,eAAe,CAAC,IAAI,KAAK;gBAAC,IAAI,IAAI;aAAC;YAC1D,MAAM,OAAO,SAAS,aAAa,CAAC;YACpC,KAAK,IAAI,GAAG;YACZ,KAAK,YAAY,CAAC,YAAY;YAC9B,SAAS,IAAI,CAAC,WAAW,CAAC;YAC1B,KAAK,KAAK;YACV,KAAK,MAAM;QACb;IACA,SAAS,IAAM,IAAI,GAAG,CAAC,uBAAuB,IAAI,CAAC,CAAA,MAAO,IAAI,IAAI;AACpE;uCAEe"}},
    {"offset": {"line": 600, "column": 0}, "map": {"version":3,"sources":["file:///Users/harshmanpreetsingh/Desktop/insight-agent-idp-local/web/app/analytics/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from 'react';\nimport Layout from '@/components/Layout';\nimport { analyticsApi } from '@/lib/api';\nimport { LineChart, Line, BarChart, Bar, PieChart, Pie, Cell, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport toast from 'react-hot-toast';\n\nconst COLORS = ['#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6', '#ec4899'];\n\nexport default function AnalyticsPage() {\n  const [summary, setSummary] = useState<any>(null);\n  const [vendorStats, setVendorStats] = useState<any[]>([]);\n  const [categoryBreakdown, setCategoryBreakdown] = useState<any[]>([]);\n  const [timeSeries, setTimeSeries] = useState<any>(null);\n  const [forecast, setForecast] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const [summaryData, vendors, categories, timeSeriesData, forecastData] = await Promise.all([\n          analyticsApi.getSummary(),\n          analyticsApi.getVendorStats(10),\n          analyticsApi.getCategoryBreakdown(),\n          analyticsApi.getTimeSeries(),\n          analyticsApi.getForecast(3),\n        ]);\n        setSummary(summaryData);\n        setVendorStats(vendors);\n        setCategoryBreakdown(categories);\n        setTimeSeries(timeSeriesData);\n        setForecast(forecastData);\n      } catch (error) {\n        toast.error('Failed to load analytics data');\n        console.error(error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n\n  if (loading) {\n    return (\n      <Layout>\n        <div className=\"animate-pulse space-y-6\">\n          <div className=\"h-8 bg-gray-200 rounded w-1/4\"></div>\n          <div className=\"grid grid-cols-1 gap-6 lg:grid-cols-2\">\n            <div className=\"h-64 bg-gray-200 rounded\"></div>\n            <div className=\"h-64 bg-gray-200 rounded\"></div>\n          </div>\n        </div>\n      </Layout>\n    );\n  }\n\n  return (\n    <Layout>\n      <div className=\"space-y-6\">\n        <h1 className=\"text-3xl font-bold text-gray-900\">Analytics Dashboard</h1>\n\n        {/* Key Metrics */}\n        <div className=\"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4\">\n          <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n            <div className=\"p-5\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0 bg-blue-500 rounded-md p-3\">\n                  <span className=\"text-white text-2xl\">ðŸ“Š</span>\n                </div>\n                <div className=\"ml-5 w-0 flex-1\">\n                  <dl>\n                    <dt className=\"text-sm font-medium text-gray-500 truncate\">Total Transactions</dt>\n                    <dd className=\"text-2xl font-semibold text-gray-900\">{summary?.total_transactions.toLocaleString()}</dd>\n                  </dl>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n            <div className=\"p-5\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0 bg-green-500 rounded-md p-3\">\n                  <span className=\"text-white text-2xl\">ðŸ’°</span>\n                </div>\n                <div className=\"ml-5 w-0 flex-1\">\n                  <dl>\n                    <dt className=\"text-sm font-medium text-gray-500 truncate\">Total Spending</dt>\n                    <dd className=\"text-2xl font-semibold text-gray-900\">\n                      ${summary?.total_spend.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n                    </dd>\n                  </dl>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n            <div className=\"p-5\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0 bg-purple-500 rounded-md p-3\">\n                  <span className=\"text-white text-2xl\">ðŸ“„</span>\n                </div>\n                <div className=\"ml-5 w-0 flex-1\">\n                  <dl>\n                    <dt className=\"text-sm font-medium text-gray-500 truncate\">Documents</dt>\n                    <dd className=\"text-2xl font-semibold text-gray-900\">{summary?.total_documents.toLocaleString()}</dd>\n                  </dl>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n            <div className=\"p-5\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0 bg-yellow-500 rounded-md p-3\">\n                  <span className=\"text-white text-2xl\">ðŸ“ˆ</span>\n                </div>\n                <div className=\"ml-5 w-0 flex-1\">\n                  <dl>\n                    <dt className=\"text-sm font-medium text-gray-500 truncate\">Avg Transaction</dt>\n                    <dd className=\"text-2xl font-semibold text-gray-900\">\n                      ${summary?.avg_transaction.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n                    </dd>\n                  </dl>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Charts */}\n        <div className=\"grid grid-cols-1 gap-6 lg:grid-cols-2\">\n          {/* Monthly Trend */}\n          <div className=\"bg-white shadow rounded-lg p-6\">\n            <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Monthly Spending Trend</h2>\n            {timeSeries?.monthly && timeSeries.monthly.length > 0 ? (\n              <ResponsiveContainer width=\"100%\" height={300}>\n                <LineChart data={timeSeries.monthly}>\n                  <CartesianGrid strokeDasharray=\"3 3\" />\n                  <XAxis dataKey=\"date\" />\n                  <YAxis />\n                  <Tooltip />\n                  <Legend />\n                  <Line type=\"monotone\" dataKey=\"amount\" stroke=\"#3b82f6\" strokeWidth={2} name=\"Spending ($)\" />\n                </LineChart>\n              </ResponsiveContainer>\n            ) : (\n              <div className=\"h-64 flex items-center justify-center text-gray-500\">No data available</div>\n            )}\n          </div>\n\n          {/* Category Breakdown */}\n          <div className=\"bg-white shadow rounded-lg p-6\">\n            <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Category Breakdown</h2>\n            {categoryBreakdown.length > 0 ? (\n              <ResponsiveContainer width=\"100%\" height={300}>\n                <PieChart>\n                  <Pie\n                    data={categoryBreakdown}\n                    cx=\"50%\"\n                    cy=\"50%\"\n                    labelLine={false}\n                    label={(props: any) => {\n                      const name = props.name || '';\n                      const percent = props.percent || 0;\n                      return `${name} ${(percent * 100).toFixed(0)}%`;\n                    }}\n                    outerRadius={80}\n                    fill=\"#8884d8\"\n                    dataKey=\"total_spend\"\n                  >\n                    {categoryBreakdown.map((entry, index) => (\n                      <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />\n                    ))}\n                  </Pie>\n                  <Tooltip />\n                </PieChart>\n              </ResponsiveContainer>\n            ) : (\n              <div className=\"h-64 flex items-center justify-center text-gray-500\">No data available</div>\n            )}\n          </div>\n\n          {/* Top Vendors */}\n          <div className=\"bg-white shadow rounded-lg p-6\">\n            <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Top Vendors</h2>\n            {vendorStats.length > 0 ? (\n              <ResponsiveContainer width=\"100%\" height={300}>\n                <BarChart data={vendorStats}>\n                  <CartesianGrid strokeDasharray=\"3 3\" />\n                  <XAxis dataKey=\"vendor\" angle={-45} textAnchor=\"end\" height={100} />\n                  <YAxis />\n                  <Tooltip />\n                  <Legend />\n                  <Bar dataKey=\"total_spend\" fill=\"#3b82f6\" name=\"Total Spend ($)\" />\n                </BarChart>\n              </ResponsiveContainer>\n            ) : (\n              <div className=\"h-64 flex items-center justify-center text-gray-500\">No data available</div>\n            )}\n          </div>\n\n          {/* Forecast */}\n          <div className=\"bg-white shadow rounded-lg p-6\">\n            <h2 className=\"text-lg font-medium text-gray-900 mb-4\">\n              Spending Forecast ({forecast?.trend || 'N/A'})\n            </h2>\n            {forecast?.forecast && forecast.forecast.length > 0 ? (\n              <div>\n                <ResponsiveContainer width=\"100%\" height={200}>\n                  <BarChart data={forecast.forecast}>\n                    <CartesianGrid strokeDasharray=\"3 3\" />\n                    <XAxis dataKey=\"month\" />\n                    <YAxis />\n                    <Tooltip />\n                    <Bar dataKey=\"predicted_amount\" fill=\"#10b981\" name=\"Predicted ($)\" />\n                  </BarChart>\n                </ResponsiveContainer>\n                <div className=\"mt-4 text-sm text-gray-600\">\n                  Monthly change: ${forecast.monthly_change?.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 }) || '0.00'}\n                </div>\n              </div>\n            ) : (\n              <div className=\"h-64 flex items-center justify-center text-gray-500\">Insufficient data for forecasting</div>\n            )}\n          </div>\n        </div>\n\n        {/* Vendor Trends */}\n        {timeSeries?.vendor_trends && Object.keys(timeSeries.vendor_trends).length > 0 && (\n          <div className=\"bg-white shadow rounded-lg p-6\">\n            <h2 className=\"text-lg font-medium text-gray-900 mb-4\">Top Vendors - Monthly Trends</h2>\n            <ResponsiveContainer width=\"100%\" height={400}>\n              <LineChart>\n                <CartesianGrid strokeDasharray=\"3 3\" />\n                <XAxis dataKey=\"date\" />\n                <YAxis />\n                <Tooltip />\n                <Legend />\n                {Object.entries(timeSeries.vendor_trends).map(([vendor, data]: [string, any], index) => (\n                  <Line\n                    key={vendor}\n                    type=\"monotone\"\n                    dataKey=\"amount\"\n                    data={data}\n                    stroke={COLORS[index % COLORS.length]}\n                    strokeWidth={2}\n                    name={vendor}\n                  />\n                ))}\n              </LineChart>\n            </ResponsiveContainer>\n          </div>\n        )}\n      </div>\n    </Layout>\n  );\n}\n\n"],"names":[],"mappings":"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"}}]
}