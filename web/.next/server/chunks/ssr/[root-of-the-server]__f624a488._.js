module.exports=[9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},88199,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(27508),e=a.i(53250),f=a.i(6704);let g=c.forwardRef(function({title:a,titleId:b,...d},e){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":b},d),a?c.createElement("title",{id:b},a):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}),h=c.forwardRef(function({title:a,titleId:b,...d},e){return c.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:e,"aria-labelledby":b},d),a?c.createElement("title",{id:b},a):null,c.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))});var i=a.i(89329);function j(){let[a,j]=(0,c.useState)([]),[k,l]=(0,c.useState)(!0),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(!1),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)("all"),u=(0,c.useRef)(null);(0,c.useEffect)(()=>{v()},[s]);let v=async()=>{l(!0);try{let a=await e.documentsApi.getAll(0,100,"all"===s?void 0:s),b=Array.isArray(a)?a:a?.documents||[];j(b)}catch(a){console.error("Failed to load documents:",a),j([]),a.response?.status!==404&&f.default.error(a.response?.data?.detail||"Failed to load documents")}finally{l(!1)}},w=async a=>{let b=a.target.files?.[0];if(b){p(!0);try{let a=await e.documentsApi.upload(b);f.default.success(`Document processed! Created ${a.transactions_created||0} transactions.`),await v(),u.current&&(u.current.value="")}catch(a){f.default.error(a.response?.data?.detail||"Failed to upload document"),console.error(a)}finally{p(!1)}}},x=async(b,c,d)=>{try{if(await e.documentsApi.update(b,{extracted_data:{[c]:d}}),f.default.success("Document updated successfully"),await v(),m?.id===b){let c=a.find(a=>a.id===b);c&&n(c)}}catch(a){f.default.error("Failed to update document")}},y=a.filter(a=>a.filename.toLowerCase().includes(q.toLowerCase())||(a.extracted_data?.vendor||"").toLowerCase().includes(q.toLowerCase())),z=Array.from(new Set(a.map(a=>a.document_type).filter(Boolean)));return(0,b.jsx)(d.default,{children:(0,b.jsxs)("div",{className:"space-y-8",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-4xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:"Documents"}),(0,b.jsx)("p",{className:"text-slate-600 mt-2",children:"Manage and process your documents"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("input",{type:"file",ref:u,onChange:w,accept:".pdf,.png,.jpg,.jpeg",className:"hidden",id:"file-upload",disabled:o}),(0,b.jsx)("label",{htmlFor:"file-upload",className:`inline-flex items-center px-6 py-3 border border-transparent text-sm font-semibold rounded-xl shadow-lg text-white bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 cursor-pointer transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed ${o?"opacity-50 cursor-not-allowed":""}`,children:o?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Uploading..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(g,{className:"h-5 w-5 mr-2"}),"Upload Document"]})})]})]}),(0,b.jsx)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-lg p-6 border border-slate-200/60",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Search"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(h,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-slate-400"}),(0,b.jsx)("input",{type:"text",value:q,onChange:a=>r(a.target.value),placeholder:"Search by filename or vendor...",className:"pl-12 w-full border border-slate-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all bg-white"})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-semibold text-slate-700 mb-2",children:"Filter by Type"}),(0,b.jsxs)("select",{value:s,onChange:a=>t(a.target.value),className:"w-full border border-slate-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all bg-white",children:[(0,b.jsx)("option",{value:"all",children:"All Types"}),z.map(a=>(0,b.jsx)("option",{value:a,children:a},a))]})]})]})}),k?(0,b.jsx)("div",{className:"grid grid-cols-1 gap-4",children:[1,2,3].map(a=>(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 h-32 animate-pulse",children:[(0,b.jsx)("div",{className:"h-4 bg-slate-200 rounded w-1/3 mb-4"}),(0,b.jsx)("div",{className:"h-4 bg-slate-200 rounded w-1/2"})]},a))}):0===y.length?(0,b.jsxs)("div",{className:"bg-white/80 backdrop-blur-xl rounded-2xl shadow-lg p-16 text-center border border-slate-200/60",children:[(0,b.jsx)("div",{className:"mx-auto w-20 h-20 bg-gradient-to-br from-indigo-100 to-purple-100 rounded-full flex items-center justify-center mb-6",children:(0,b.jsx)(g,{className:"h-10 w-10 text-indigo-600"})}),(0,b.jsx)("h3",{className:"text-2xl font-bold text-slate-900 mb-2",children:"No documents found"}),(0,b.jsx)("p",{className:"text-slate-600 mb-6",children:"Get started by uploading your first document."}),(0,b.jsxs)("label",{htmlFor:"file-upload",className:"inline-flex items-center px-6 py-3 border border-transparent text-sm font-semibold rounded-xl shadow-lg text-white bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 cursor-pointer transition-all duration-200",children:[(0,b.jsx)(g,{className:"h-5 w-5 mr-2"}),"Upload Your First Document"]})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 gap-4",children:y.map(a=>(0,b.jsx)("div",{className:"group bg-white/80 backdrop-blur-xl rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 cursor-pointer border border-slate-200/60 hover:border-indigo-300 overflow-hidden",onClick:()=>n(a),children:(0,b.jsx)("div",{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-2 truncate",children:a.filename}),(0,b.jsxs)("div",{className:"flex flex-wrap items-center gap-3 text-sm",children:[(0,b.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-gradient-to-r from-indigo-100 to-purple-100 text-indigo-700",children:a.document_type||"Unknown"}),a.extracted_data?.vendor&&(0,b.jsxs)("span",{className:"text-slate-600",children:["Vendor: ",(0,b.jsx)("span",{className:"font-semibold",children:a.extracted_data.vendor})]}),a.extracted_data?.total&&(0,b.jsxs)("span",{className:"text-slate-600",children:["Total: ",(0,b.jsxs)("span",{className:"font-semibold text-emerald-600",children:["$",a.extracted_data.total.toLocaleString()]})]}),(0,b.jsx)("span",{className:"text-slate-500",children:new Date(a.created_at).toLocaleDateString()})]})]}),(0,b.jsx)("button",{onClick:b=>{b.stopPropagation(),n(a)},className:"ml-4 px-4 py-2 text-sm font-semibold text-indigo-600 hover:text-indigo-700 hover:bg-indigo-50 rounded-xl transition-colors",children:"View Details â†’"})]})})},a.id))}),m&&(0,b.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,b.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 py-4",children:[(0,b.jsx)("div",{className:"fixed inset-0 bg-slate-900/50 backdrop-blur-sm transition-opacity",onClick:()=>n(null)}),(0,b.jsxs)("div",{className:"relative bg-white rounded-2xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto border border-slate-200",children:[(0,b.jsxs)("div",{className:"sticky top-0 bg-white border-b border-slate-200 px-8 py-6 flex justify-between items-center z-10 backdrop-blur-xl bg-white/95",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold bg-gradient-to-r from-indigo-600 to-purple-600 bg-clip-text text-transparent",children:m.filename}),(0,b.jsx)("button",{onClick:()=>n(null),className:"text-slate-400 hover:text-slate-600 p-2 hover:bg-slate-100 rounded-xl transition-colors","aria-label":"Close",children:(0,b.jsx)(i.XMarkIcon,{className:"h-6 w-6"})})]}),(0,b.jsx)("div",{className:"p-8 space-y-6",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-bold text-slate-900 mb-6",children:"Extracted Data"}),m.extracted_data?(0,b.jsx)("div",{className:"space-y-4",children:Object.entries(m.extracted_data).map(([a,c])=>(0,b.jsxs)("div",{className:"border-b border-slate-200 pb-4 last:border-b-0",children:[(0,b.jsx)("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:a.replace("_"," ").replace(/\b\w/g,a=>a.toUpperCase())}),"object"==typeof c&&null!==c?(0,b.jsx)("pre",{className:"text-sm text-slate-600 bg-slate-50 p-4 rounded-xl border border-slate-200 overflow-x-auto",children:JSON.stringify(c,null,2)}):(0,b.jsx)("input",{type:"text",value:String(c||""),onChange:b=>x(m.id,a,b.target.value),className:"w-full border border-slate-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition-all"})]},a))}):(0,b.jsx)("div",{className:"text-center py-12",children:(0,b.jsx)("p",{className:"text-slate-500",children:"No extracted data available"})})]})})]})]})})]})})}a.s(["default",()=>j],88199)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__f624a488._.js.map