{"version":3,"sources":["../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/app-router-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-server-dom-turbopack-client.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/hooks-client-context.ts","../../../../node_modules/next/src/server/route-modules/app-page/vendored/contexts/server-inserted-html.ts","../../../../app/anomalies/page.tsx"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].AppRouterContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactServerDOMTurbopackClient\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].HooksClientContext\n","module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['contexts'].ServerInsertedHtml\n","'use client';\n\nimport { useEffect, useState } from 'react';\nimport Layout from '@/components/Layout';\nimport { anomaliesApi } from '@/lib/api';\nimport toast from 'react-hot-toast';\nimport { ExclamationTriangleIcon } from '@heroicons/react/24/outline';\n\ninterface Anomaly {\n  type: string;\n  severity: 'high' | 'medium' | 'low';\n  message: string;\n  transaction_id?: number;\n  document_id?: number;\n  [key: string]: any;\n}\n\nexport default function AnomaliesPage() {\n  const [anomalies, setAnomalies] = useState<Anomaly[]>([]);\n  const [loading, setLoading] = useState(false);\n\n  const fetchAnomalies = async () => {\n    setLoading(true);\n    try {\n      const data = await anomaliesApi.getAll();\n      setAnomalies(data);\n    } catch (error) {\n      toast.error('Failed to load anomalies');\n      console.error(error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchAnomalies();\n  }, []);\n\n  const severityColors = {\n    high: 'bg-red-100 text-red-800 border-red-200',\n    medium: 'bg-yellow-100 text-yellow-800 border-yellow-200',\n    low: 'bg-blue-100 text-blue-800 border-blue-200',\n  };\n\n  const severityIcons = {\n    high: 'ðŸ”´',\n    medium: 'ðŸŸ¡',\n    low: 'ðŸŸ¢',\n  };\n\n  const groupedAnomalies = {\n    high: anomalies.filter((a) => a.severity === 'high'),\n    medium: anomalies.filter((a) => a.severity === 'medium'),\n    low: anomalies.filter((a) => a.severity === 'low'),\n  };\n\n  return (\n    <Layout>\n      <div className=\"space-y-6\">\n        <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\n          <h1 className=\"text-3xl font-bold text-gray-900\">Anomaly Detection</h1>\n          <button\n            onClick={fetchAnomalies}\n            disabled={loading}\n            className=\"inline-flex items-center px-5 py-2.5 border border-transparent text-sm font-semibold rounded-lg shadow-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200\"\n          >\n            {loading ? (\n              <>\n                <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                  <circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\"></circle>\n                  <path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n                </svg>\n                Loading...\n              </>\n            ) : (\n              'Refresh'\n            )}\n          </button>\n        </div>\n\n        {/* Summary */}\n        <div className=\"grid grid-cols-1 gap-5 sm:grid-cols-3\">\n          <div className=\"bg-white overflow-hidden shadow-md rounded-xl border border-gray-100\">\n            <div className=\"p-5\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0 bg-red-500 rounded-md p-3\">\n                  <ExclamationTriangleIcon className=\"h-6 w-6 text-white\" />\n                </div>\n                <div className=\"ml-5 w-0 flex-1\">\n                  <dl>\n                    <dt className=\"text-sm font-medium text-gray-500 truncate\">High Priority</dt>\n                    <dd className=\"text-2xl font-semibold text-gray-900\">{groupedAnomalies.high.length}</dd>\n                  </dl>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-white overflow-hidden shadow-md rounded-xl border border-gray-100\">\n            <div className=\"p-5\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0 bg-yellow-500 rounded-lg p-3 shadow-sm\">\n                  <ExclamationTriangleIcon className=\"h-6 w-6 text-white\" />\n                </div>\n                <div className=\"ml-5 w-0 flex-1\">\n                  <dl>\n                    <dt className=\"text-sm font-medium text-gray-500 truncate\">Medium Priority</dt>\n                    <dd className=\"text-2xl font-semibold text-gray-900\">{groupedAnomalies.medium.length}</dd>\n                  </dl>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div className=\"bg-white overflow-hidden shadow-md rounded-xl border border-gray-100\">\n            <div className=\"p-5\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0 bg-blue-500 rounded-md p-3\">\n                  <ExclamationTriangleIcon className=\"h-6 w-6 text-white\" />\n                </div>\n                <div className=\"ml-5 w-0 flex-1\">\n                  <dl>\n                    <dt className=\"text-sm font-medium text-gray-500 truncate\">Low Priority</dt>\n                    <dd className=\"text-2xl font-semibold text-gray-900\">{groupedAnomalies.low.length}</dd>\n                  </dl>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Anomalies List */}\n        {loading ? (\n          <div className=\"animate-pulse space-y-4\">\n            {[1, 2, 3].map((i) => (\n              <div key={i} className=\"bg-white shadow rounded-lg p-6 h-24\"></div>\n            ))}\n          </div>\n        ) : anomalies.length === 0 ? (\n          <div className=\"bg-white shadow-md rounded-xl p-12 text-center border border-gray-100\">\n            <ExclamationTriangleIcon className=\"mx-auto h-16 w-16 text-green-400\" />\n            <h3 className=\"mt-4 text-lg font-semibold text-gray-900\">No Anomalies Detected</h3>\n            <p className=\"mt-2 text-sm text-gray-500\">All your documents and transactions look good!</p>\n          </div>\n        ) : (\n          <div className=\"space-y-4\">\n            {anomalies.map((anomaly, index) => (\n              <div\n                key={index}\n                className={`bg-white shadow-md rounded-xl p-6 border-l-4 transition-all duration-200 hover:shadow-lg ${\n                  severityColors[anomaly.severity]\n                }`}\n              >\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex-1\">\n                    <div className=\"flex items-center space-x-2\">\n                      <span className=\"text-2xl\">{severityIcons[anomaly.severity]}</span>\n                      <h3 className=\"text-lg font-medium text-gray-900\">{anomaly.type}</h3>\n                      <span\n                        className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\n                          severityColors[anomaly.severity]\n                        }`}\n                      >\n                        {anomaly.severity}\n                      </span>\n                    </div>\n                    <p className=\"mt-2 text-sm text-gray-600\">{anomaly.message}</p>\n                    <div className=\"mt-4 flex flex-wrap gap-2 text-xs text-gray-500\">\n                      {anomaly.transaction_id && (\n                        <span>Transaction ID: {anomaly.transaction_id}</span>\n                      )}\n                      {anomaly.document_id && <span>Document ID: {anomaly.document_id}</span>}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </Layout>\n  );\n}\n\n"],"names":["module","exports","require","vendored","AppRouterContext","ReactServerDOMTurbopackClient","HooksClientContext","ServerInsertedHtml"],"mappings":"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","ignoreList":[0,1,2,3]}