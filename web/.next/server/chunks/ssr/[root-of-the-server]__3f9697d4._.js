module.exports=[9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},17735,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(27508),e=a.i(53250),f=a.i(6704),g=a.i(22785);function h(){let[a,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(null),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(!1);(0,c.useEffect)(()=>{o()},[]);let o=async()=>{try{let a=await e.receiptApi.getUnmatched();h(a)}catch(a){f.default.error("Failed to load receipts")}},p=async a=>{j(a),n(!0);try{let b=await e.receiptApi.match(a);b.matched?l([b]):((0,f.default)("No direct match found. Try manual matching.",{icon:"ℹ️"}),l([]))}catch(a){f.default.error("Failed to match receipt")}finally{n(!1)}};return(0,b.jsx)(d.default,{children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Receipt-to-Invoice Matching"}),(0,b.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Unmatched Receipts"}),0===a.length?(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(g.ReceiptRefundIcon,{className:"mx-auto h-12 w-12 text-green-400"}),(0,b.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"All Receipts Matched"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Great job! All receipts have been matched to invoices."})]}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Filename"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Vendor"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(a=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:a.filename}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.vendor||"N/A"}),(0,b.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",a.amount?.toFixed(2)||"0.00"]}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.date||"N/A"}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,b.jsx)("button",{onClick:()=>p(a.receipt_id),disabled:m,className:"text-blue-600 hover:text-blue-900 disabled:opacity-50",children:m&&i===a.receipt_id?"Matching...":"Find Match"})})]},a.receipt_id))})]})})]}),k.length>0&&(0,b.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,b.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Matching Invoices"}),(0,b.jsx)("div",{className:"space-y-4",children:k.map((a,c)=>{let d=a.confidence>70?"bg-green-100 text-green-800":a.confidence>50?"bg-yellow-100 text-yellow-800":"bg-orange-100 text-orange-800";return(0,b.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,b.jsx)("h3",{className:"text-md font-medium text-gray-900",children:a.invoice_filename}),(0,b.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${d}`,children:[a.confidence.toFixed(0),"% confidence"]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Vendor:"})," ",a.invoice_vendor]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Total:"})," $",a.invoice_total?.toFixed(2)]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Date:"})," ",a.invoice_date]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:"text-gray-500",children:"Invoice ID:"})," ",a.invoice_id]})]}),a.match_reasons&&a.match_reasons.length>0&&(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Match Reasons:"}),(0,b.jsx)("ul",{className:"mt-2 list-disc list-inside text-sm text-gray-600",children:a.match_reasons.map((a,c)=>(0,b.jsx)("li",{children:a},c))})]})]},c)})})]})]})})}a.s(["default",()=>h])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__3f9697d4._.js.map