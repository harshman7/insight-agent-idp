(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,s)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"warnOnce",{enumerable:!0,get:function(){return a}});let a=e=>{}},5500,e=>{"use strict";var t=e.i(43476),s=e.i(71645),a=e.i(59015),i=e.i(54858),c=e.i(5766),l=e.i(69761);function n(){let[e,n]=(0,s.useState)([]),[r,d]=(0,s.useState)(null),[x,m]=(0,s.useState)([]),[o,h]=(0,s.useState)(!1);(0,s.useEffect)(()=>{p()},[]);let p=async()=>{try{let e=await i.receiptApi.getUnmatched();n(e)}catch(e){c.default.error("Failed to load receipts")}},u=async e=>{d(e),h(!0);try{let t=await i.receiptApi.match(e);t.matched?m([t]):((0,c.default)("No direct match found. Try manual matching.",{icon:"ℹ️"}),m([]))}catch(e){c.default.error("Failed to match receipt")}finally{h(!1)}};return(0,t.jsx)(a.default,{children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Receipt-to-Invoice Matching"}),(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Unmatched Receipts"}),0===e.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(l.ReceiptRefundIcon,{className:"mx-auto h-12 w-12 text-green-400"}),(0,t.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"All Receipts Matched"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Great job! All receipts have been matched to invoices."})]}):(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Filename"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Vendor"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.filename}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.vendor||"N/A"}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",e.amount?.toFixed(2)||"0.00"]}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.date||"N/A"}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,t.jsx)("button",{onClick:()=>u(e.receipt_id),disabled:o,className:"text-blue-600 hover:text-blue-900 disabled:opacity-50",children:o&&r===e.receipt_id?"Matching...":"Find Match"})})]},e.receipt_id))})]})})]}),x.length>0&&(0,t.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Matching Invoices"}),(0,t.jsx)("div",{className:"space-y-4",children:x.map((e,s)=>{let a=e.confidence>70?"bg-green-100 text-green-800":e.confidence>50?"bg-yellow-100 text-yellow-800":"bg-orange-100 text-orange-800";return(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("h3",{className:"text-md font-medium text-gray-900",children:e.invoice_filename}),(0,t.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${a}`,children:[e.confidence.toFixed(0),"% confidence"]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Vendor:"})," ",e.invoice_vendor]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Total:"})," $",e.invoice_total?.toFixed(2)]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Date:"})," ",e.invoice_date]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-gray-500",children:"Invoice ID:"})," ",e.invoice_id]})]}),e.match_reasons&&e.match_reasons.length>0&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Match Reasons:"}),(0,t.jsx)("ul",{className:"mt-2 list-disc list-inside text-sm text-gray-600",children:e.match_reasons.map((e,s)=>(0,t.jsx)("li",{children:e},s))})]})]},s)})})]})]})})}e.s(["default",()=>n])}]);